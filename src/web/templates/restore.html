{% extends "base.html" %}

{% block title %}Restauration - SystÃ¨me de Sauvegarde{% endblock %}

{% block content %}
<div class="restore-page">
    <h2>ğŸ”„ Restauration de fichiers</h2>

    <div class="restore-options">
        <div class="option-card">
            <h3>ğŸ“„ Restaurer un fichier spÃ©cifique</h3>
            <p>Choisissez un fichier et sÃ©lectionnez la version Ã  restaurer</p>
            <select id="file-select" class="form-control" onchange="selectFileForRestore(this.value)">
                <option value="">Chargement des fichiers...</option>
            </select>
            <!-- Results div removed -->
            <div id="selected-file-versions" class="versions-container" style="display: none;">
                <h4>Versions disponibles :</h4>
                <div id="versions-timeline"></div>
            </div>
        </div>

        <div class="option-card">
            <h3>ğŸ“… Restaurer Ã  une date prÃ©cise</h3>
            <p>Restaurez tous les fichiers tels qu'ils Ã©taient Ã  une date spÃ©cifique</p>
            <div class="date-selector">
                <label for="restore-date">SÃ©lectionnez une date :</label>
                <input type="date" id="restore-date" max="{{ today }}">
                <button class="btn btn-primary" onclick="restoreAtDate()">
                    ğŸ”„ Restaurer tous les fichiers
                </button>
            </div>
        </div>
    </div>

    <div id="restore-progress" class="progress-container" style="display: none;">
        <h3>Restauration en cours...</h3>
        <div class="progress-bar">
            <div id="progress-bar-fill" class="progress-fill" style="width: 0%"></div>
        </div>
        <p id="progress-text">PrÃ©paration...</p>
    </div>

    <div id="restore-results" class="results-container" style="display: none;">
        <h3>âœ“ Restauration terminÃ©e</h3>
        <p id="results-text"></p>
        <div id="download-links"></div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="/static/js/restore.js"></script>
{% endblock %}