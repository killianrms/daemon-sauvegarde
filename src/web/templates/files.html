{% extends "base.html" %}

{% block title %}Fichiers - SystÃ¨me de Sauvegarde{% endblock %}

{% block content %}
<div class="files-page">
    <h2>ğŸ“ Fichiers sauvegardÃ©s</h2>

    <div class="toolbar">
        <div class="search-box">
            <input type="text" id="search-input" placeholder="ğŸ” Rechercher un fichier..." oninput="searchFiles()">
        </div>
        <div class="filters">
            <button class="btn btn-sm btn-secondary" onclick="refreshFiles()">ğŸ”„ Actualiser</button>
        </div>
    </div>

    <div class="files-table-container">
        <table class="files-table">
            <thead>
                <tr>
                    <th>Fichier</th>
                    <th>DerniÃ¨re modification</th>
                    <th>Versions</th>
                    <th>Taille</th>
                    <th>Statut</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody id="files-list">
                <tr>
                    <td colspan="6" class="loading">Chargement...</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<!-- Modal pour voir les versions -->
<div id="versions-modal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3 id="modal-title">Versions du fichier</h3>
            <span class="close" onclick="closeModal()">&times;</span>
        </div>
        <div class="modal-body">
            <div id="versions-list"></div>
        </div>
    </div>
</div>

{% endblock %}

{% block extra_js %}
<script src="/static/js/files.js"></script>
{% endblock %}
